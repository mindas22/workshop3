<!DOCTYPE html>
<html>
<head>

  <title>List of compromised websites</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" /> 
  <link rel="stylesheet" href="themes/theme1.min.css" />
  <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />

  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script> 
  <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> 
  <!-- <script src="javascript.js"></script> -->
  <style type="text/css">
  	/*.logo {
  		max-width: 110px;
  	}*/
  	.red {
  		color: red;
  	}
  </style>
</head>
<body>

<div id="parentDiv">
<div data-role="page" id="pageone">
	<div data-role="header">
		<h2>';--have i been pwned?</h2>
	</div>

	<div class="ui-content" role="main">
	
		<div class="content-primary">	
			
			<h4>Check the website if it was compromised in a data breach</h4>
			<div id="total"></div>

  			<br>
  			<div id="explain"></div>

  			<div data-demo-html="true">
				<ul data-role="listview" data-filter="true" data-autodividers="true" data-filter-reveal="true" id="myList">
				</ul>
			</div>
		</div> <!-- /primary -->
	</div> <!-- /main role -->
		<div data-role="footer">
			<h1>Created by M.L.</h1>
		</div>
</div> <!-- / role page -->


</div><!--  /parent div -->




<script type="text/javascript">

$( document ).ready(function() {

var urlForJSONfile = "listofsites.json";


$.getJSON( urlForJSONfile, function( data ) {



for (var i = 0; i < data.length;  i++) {

$("#myList").append('<li><a data-transition="flip" href="#' + data[i].Name +'">' + data[i].Name + '</a></li>').listview('refresh');

				$("#parentDiv").append(
			'<div data-role="page" id="' + data[i].Name + '">' +
			'<div data-role="header" data-add-back-btn="true" data-back-btn-text="Go back">' + '<h1>' + data[i].Name + '</h1>' + '</div>' +
			'<div role="main" class="ui-content">' +

			// '<p><img class="logo" src="imgs/' + data[i].Name + '.' + data[i].LogoType + '"> <br>' + 
			'<p>Breach date: ' + data[i].BreachDate + "</p>" +
			'<p>Breached accounts: ' + data[i].PwnCount + "</p>" +

			'<p>' + data[i].Description + "</p>" +
			'<p class="ui-mini"><strong>Compromised data: </strong>' + data[i].DataClasses + "</p></div>" +

			'<div data-role="footer">' + '<h1>' + data[i].Name + '</h1></div>' +
			'</div>');

 
	}
	$("#total").append('<p>A "breach" is an incident where a site\'s data has been illegally accessed by hackers and then released publicly. Review the types of data that were compromised (email addresses, passwords, credit cards etc.) and take appropriate action, such as changing passwords.</p> <p>at the moment there are <span class="red">' + data.length + '</span> websites in the list.</p> ')



});		

		});
</script>

</body>
</html>