<!DOCTYPE html>
<html>
<head>

  <title>List of compromised websites</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" /> 
  <link rel="stylesheet" href="themes/theme1.min.css" />
  <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />

  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script> 
  <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> 
  <!-- <script src="javascript.js"></script> -->
  <style type="text/css">
  	.red {
  		color: red;
  	}
  	.panel {
  		max-width: 100%;
  	}

  </style>
</head>
<body>

<div id="parentDiv">
<div data-role="page" class="ui-responsive-panel" id="pageone">
	<div data-role="header">
		<h2>';--have i been pwned?</h2>
		<a href="#myPanel" class="ui-btn ui-icon-bars ui-btn-icon-left">Info</a>
	</div>

					<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="myPanel" data-theme="a">

					<ul data-role="listview" data-theme="a" data-divider-theme="a" style="margin-top:-16px;" class="nav-search">
						<li data-icon="delete" style="background-color:#111;">
							<a href="#" data-rel="close">Close menu</a>
						</li>
						<li data-filtertext="wai-aria voiceover accessibility screen reader">
							<a href="../about/accessibility.html">Accessibility</a>
						</li>
						<li data-filtertext="accordions collapsible set collapsible-set collapsed">
							<a href="../content/content-collapsible-set.html">Accordions</a>
						</li>
						<li data-filtertext="ajax navigation model">
							<a href="../pages/page-navmodel.html">Ajax navigation model</a>
						</li>
						<li data-filtertext="anatomy of page viewport">
							<a href="../pages/page-anatomy.html">Anatomy of a page</a>
						</li>
						<li data-filtertext="events api animationComplete transition css">
							<a href="../api/events.html">Animation events</a>
						</li>
						<li data-filtertext="listview autodivider">
							<a href="../lists/lists-autodividers.html">Automatic listview dividers</a>
						</li>
						<li data-filtertext="button link submit cancel image reset mini buttonmarkup enable disable">
							<a href="../buttons/buttons-types.html">Buttons</a>
						</li>
						<li data-filtertext="button icon">
							<a href="../buttons/buttons-icons.html">Button icons</a>
						</li>
						<li data-filtertext="data-prefetch loadpage domCache data-dom-cache size clear cleanup pagehide lazyload spinner loader">
							<a href="../pages/page-cache.html">Caching pages</a>
						</li>
						<li data-filtertext="input forms multi select checkbox checks grouped horizontal toggle legend">
							<a href="../forms/checkboxes/">Checkbox</a>
						</li>
						<li data-filtertext="button icon">
							<a href="buttons/buttons-icons.html">Button icons</a>
						</li>
						<li data-filtertext="data-prefetch loadpage domCache data-dom-cache size clear cleanup pagehide lazyload spinner loader">
							<a href="../pages/page-cache.html">Caching pages</a>
						</li>
						<li data-filtertext="input forms multi select checkbox checks grouped horizontal toggle legend">
							<a href="../forms/checkboxes/">Checkbox</a>
						</li>
					</ul>

					<!-- panel content goes here -->
				</div><!-- /panel -->

	<div class="ui-content" role="main">

		
		<div class="content-primary">	
			
			
			<h4>Check the website if it was compromised in a data breach</h4>
			<div id="total"></div>

  			<br>
  			<div id="explain"></div>

  			<div data-demo-html="true">
				<ul data-role="listview" data-filter="true" data-filter-placeholder="Search..." data-autodividers="true" data-filter-reveal="true" id="myList">
				</ul>
			</div>
		</div> <!-- /primary -->
	</div> <!-- /main role -->
	<div data-role="footer">
		<h1>Created by M.L.</h1>
	</div>




</div> <!-- / role page -->


</div><!--  /parent div -->




<script type="text/javascript">


$( document ).ready(function() {

// $(document).ajaxStart(function() {
//     $.mobile.loading('show', {
//   text: "foo",
//   textVisible: true,
//   theme: "z",
//   html: ""
//     });
// });


var urlForJSONfile = "listofsites.json";


$.getJSON( urlForJSONfile, function( data ) {



for (var i = 0; i < data.length;  i++) {

$("#myList").append('<li><a data-transition="flip" href="#' + data[i].Name +'">' + data[i].Name + ' - ' + data[i].Domain + '</a></li>').listview('refresh');

			$("#parentDiv").append(
			'<div data-role="page" id="' + data[i].Name + '">' +
			'<div data-role="header" data-add-back-btn="true" data-back-btn-text="Go back">' + '<h1>' + data[i].Name + '</h1>' + '</div>' +
			'<div role="main" class="ui-content">' +

			// '<p><img class="logo" src="imgs/' + data[i].Name + '.' + data[i].LogoType + '"> <br>' + 
			'<p>Breach date: ' + data[i].BreachDate + "</p>" +
			'<p>Breached accounts: ' + data[i].PwnCount + "</p>" +

			'<p>' + data[i].Description + "</p>" +
			'<p class="ui-mini"><strong>Compromised data: </strong>' + data[i].DataClasses + "</p></div>" +

			'<div data-role="footer">' + '<h1>' + data[i].Name + '</h1></div>' +
			'</div>');
 
	}
	$("#total").append('<p>A "breach" is an incident where a site\'s data has been illegally accessed by hackers and then released publicly.</p> <p>at the moment there are <span class="red">' + data.length + '</span> websites in the list.</p> ')

});		

		});
$(document).ajaxStop(function() {
    $.mobile.loading('hide');
});
</script>

</body>
</html>